<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;<br>
&lt;div&gt;Hi,&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I'm&nbsp;using&nbsp;cowboy_rest&nbsp;for&nbsp;a&nbsp;part&nbsp;of&nbsp;our&nbsp;api&nbsp;to&nbsp;handle&nbsp;POST&nbsp;requests.&nbsp;Under&nbsp;certain&nbsp;conditions,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;redirect&nbsp;to&nbsp;a&nbsp;new&nbsp;location&nbsp;(based&nbsp;on&nbsp;availability&nbsp;of&nbsp;the&nbsp;redirect&nbsp;qs&nbsp;parameter).&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;was&nbsp;unable&nbsp;to&nbsp;get&nbsp;the&nbsp;moved_temporarily/2&nbsp;callback&nbsp;to&nbsp;work&nbsp;(was&nbsp;not&nbsp;invoked&nbsp;at&nbsp;al).&nbsp;So&nbsp;I&nbsp;just&nbsp;do&nbsp;the&nbsp;302&nbsp;myself,&nbsp;using&nbsp;cowboy_req:reply/4.&nbsp;This&nbsp;works,&nbsp;however,&nbsp;every&nbsp;time&nbsp;it&nbsp;produces&nbsp;an&nbsp;error&nbsp;in&nbsp;the&nbsp;emulator&nbsp;process:&lt;/div&gt;<br>
&lt;div&gt;&nbsp;[error]&nbsp;emulator&nbsp;Error&nbsp;in&nbsp;process&nbsp;&lt;0.509.0&gt;&nbsp;on&nbsp;node&nbsp;'api@dev.loc'&nbsp;with&nbsp;exit&nbsp;value:&nbsp;{function_clause,[{cowboy_req,reply,[204,[],&lt;&lt;0&nbsp;bytes&gt;&gt;,{http_req,#Port&lt;0.14491&gt;,ranch_tcp,keepalive,&lt;0.509.0&gt;,&lt;&lt;4&nbsp;bytes&gt;&gt;,'HTTP/1.1',{{10,10,10,1},62197},&lt;&lt;15&nbsp;bytes&gt;&gt;,undefined,8000,&lt;&lt;26<br>
&nbsp;bytes&gt;&gt;,undefined,&lt;&lt;14&nbsp;bytes&gt;&gt;,[{&lt;&lt;8&nbsp;bytes&gt;&gt;,&lt;&lt;5&nbsp;bytes&gt;&gt;}],[{method,&lt;&lt;5&nbsp;bytes&gt;&gt;}],[{&lt;&lt;4&nbsp;bytes&gt;&gt;,&lt;&lt;20&nbsp;bytes&gt;&gt;},{&lt;&lt;10&nbsp;bytes&gt;&gt;,&lt;&lt;10&nbsp;bytes&gt;&gt;},{&lt;&lt;14&nbsp;bytes&gt;&gt;,&lt;&lt;2&nbsp;bytes&gt;&gt;},{&lt;&lt;6&nbsp;bytes&gt;&gt;,&lt;&lt;74&nbsp;bytes&gt;&gt;},{&lt;&lt;6&nbsp;bytes&gt;&gt;,&lt;&lt;27&nbsp;bytes&gt;&gt;},{&lt;&lt;10&nbsp;bytes&gt;&gt;,&lt;&lt;120&nbsp;bytes&gt;&gt;},{&lt;&lt;12&nbsp;bytes&gt;&gt;,&lt;&lt;33<br>
&nbsp;bytes&gt;&gt;},{&lt;&lt;7&nbsp;bytes&gt;&gt;,&lt;&lt;54&nbsp;bytes&gt;&gt;},{&lt;&lt;15&nbsp;bytes&gt;&gt;,&lt;&lt;17&nbsp;bytes&gt;&gt;},{&lt;&lt;15&nbsp;bytes&gt;&gt;,&lt;&lt;14&nbsp;bytes&gt;&gt;},{&lt;&lt;6&nbsp;bytes&gt;&gt;,&lt;&lt;245&nbsp;bytes&gt;&gt;}],[{&lt;&lt;14&nbsp;bytes&gt;&gt;,34},{&lt;&lt;6&nbsp;bytes&gt;&gt;,undefined},{&lt;&lt;14&nbsp;bytes&gt;&gt;,34},{&lt;&lt;12&nbsp;bytes&gt;&gt;,{&lt;&lt;11&nbsp;bytes&gt;&gt;,&lt;&lt;21&nbsp;bytes&gt;&gt;,[]}},{&lt;&lt;17&nbsp;bytes&gt;&gt;,undefined},{&lt;&lt;13<br>
&nbsp;bytes&gt;&gt;,...&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Can&nbsp;you&nbsp;point&nbsp;me&nbsp;out&nbsp;how&nbsp;to&nbsp;(ideally)&nbsp;make&nbsp;use&nbsp;of&nbsp;moved_temporarily/2&nbsp;or&nbsp;how&nbsp;I&nbsp;can&nbsp;prevent&nbsp;cowboy_rest&nbsp;from&nbsp;wanting&nbsp;to&nbsp;reply&nbsp;with&nbsp;204&nbsp;in&nbsp;this&nbsp;case?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Cheers,&lt;/div&gt;<br>
&lt;div&gt;Rolph&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
