<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [99s-extend] Cowboy helloworld make fails with	missing_beam_file (hipe)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:extend%40lists.ninenines.eu?Subject=Re%3A%20%5B99s-extend%5D%20Cowboy%20helloworld%20make%20fails%20with%0A%09missing_beam_file%20%28hipe%29&In-Reply-To=%3CCAAcKVn%3DK%3D7Pv%2BJ_Qx%2BdJqRH%3DxcDdhGPws2MmsuwpROVGU_1Axg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000252.html">
   <LINK REL="Next"  HREF="000254.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[99s-extend] Cowboy helloworld make fails with	missing_beam_file (hipe)</H1>
    <B>Matthew Hegarty</B> 
    <A HREF="mailto:extend%40lists.ninenines.eu?Subject=Re%3A%20%5B99s-extend%5D%20Cowboy%20helloworld%20make%20fails%20with%0A%09missing_beam_file%20%28hipe%29&In-Reply-To=%3CCAAcKVn%3DK%3D7Pv%2BJ_Qx%2BdJqRH%3DxcDdhGPws2MmsuwpROVGU_1Axg%40mail.gmail.com%3E"
       TITLE="[99s-extend] Cowboy helloworld make fails with	missing_beam_file (hipe)">mrhegarty at gmail.com
       </A><BR>
    <I>Sat Sep 28 22:41:16 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000252.html">[99s-extend] Cowboy helloworld make fails with	missing_beam_file (hipe)
</A></li>
        <LI>Next message: <A HREF="000254.html">[99s-extend] Cowboy helloworld make fails with missing_beam_file (hipe)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#253">[ date ]</a>
              <a href="thread.html#253">[ thread ]</a>
              <a href="subject.html#253">[ subject ]</a>
              <a href="author.html#253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Got it to work.  I apparently had a few versions of hipe in my Erlang lib
dir:

$ /usr/local/lib/erlang/lib $ ll -ld hipe*
drwxr-xr-x  9 root root 4096 Feb 11  2013 hipe-3.10/
drwxr-xr-x  9 root root 4096 Mar  1  2013 hipe-3.10.1/
drwxr-xr-x 10 root root 4096 Jul  2 11:31 hipe-3.10.2/
drwxr-xr-x 10 root root 4096 Sep 21 17:36 hipe-3.10.2.1/

They must have come from previous erlang installations (compilation from
source).  The solution was to remove the older versions and leave only the
latest one.  Maybe relx should be able to handle this?

thanks for the responses

Matt


On 26 September 2013 21:36, Matthew Hegarty &lt;<A HREF="https://lists.ninenines.eu/listinfo/extend">mrhegarty at gmail.com</A>&gt; wrote:

&gt;<i> yes it exists.  I believe hipe is enabled by default when I compile.
</I>&gt;<i>
</I>&gt;<i> however there is no
</I>&gt;<i>
</I>&gt;<i>  /usr/local/lib/erlang/lib/hipe-3.10/ebin/hipe.beam
</I>&gt;<i>  /usr/local/lib/erlang/lib/hipe-3.10.1/ebin/hipe.beam
</I>&gt;<i>
</I>&gt;<i> which is what relx is apparently looking for.
</I>&gt;<i> Do you know where does relx get these paths from?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 26 September 2013 20:04, Tristan Sloughter &lt;<A HREF="https://lists.ninenines.eu/listinfo/extend">tristan.sloughter at gmail.com</A>
</I>&gt;<i> &gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> **
</I>&gt;&gt;<i> Did you enable hipe when you compiled? Does
</I>&gt;&gt;<i> /usr/local/lib/erlang/lib/hipe-3.10.2.1/ebin/hipe.beam exist?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i>  Tristan Sloughter
</I>&gt;&gt;<i>  <A HREF="https://lists.ninenines.eu/listinfo/extend">tristan.sloughter at gmail.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Thu, Sep 26, 2013, at 12:03 PM, Matthew Hegarty wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> hi
</I>&gt;&gt;<i> I compiled Erlang from source (downloaded from erlang.org)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 25 September 2013 17:25, Tristan Sloughter &lt;
</I>&gt;&gt;<i> <A HREF="https://lists.ninenines.eu/listinfo/extend">tristan.sloughter at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I ran into the same thing. I assume you installed Erlang from the Erlang
</I>&gt;&gt;<i>  Solutions repo?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Install erlang-hipe package. Or remove
</I>&gt;&gt;<i>  /usr/local/lib/erlang/lib/hipe-3.10.2.1 entirely.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Their packages install a broken hipe app, missing lots of beams, for
</I>&gt;&gt;<i>  some reason. But if you install the hipe package it'll install what is
</I>&gt;&gt;<i>  missing. I told them about this but I haven't heard back.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  --
</I>&gt;&gt;<i>    Tristan Sloughter
</I>&gt;&gt;<i>    <A HREF="https://lists.ninenines.eu/listinfo/extend">tsloughter at fastmail.fm</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  On Wed, Sep 25, 2013, at 08:09 AM, Lo&#239;c Hoguin wrote:
</I>&gt;&gt;<i>  &gt; Why does it look for hipe at all to begin with?
</I>&gt;&gt;<i>  &gt;
</I>&gt;&gt;<i>  &gt; I'll ping tristan about it.
</I>&gt;&gt;<i>  &gt;
</I>&gt;&gt;<i>  &gt; On 09/22/2013 10:59 PM, Matthew Hegarty wrote:
</I>&gt;&gt;<i>  &gt; &gt; hi
</I>&gt;&gt;<i>  &gt; &gt; Just starting out so I'm trying to run cowboy's helloworld
</I>&gt;&gt;<i>  &gt; &gt; in cowboy/examples/hello_world, running make fails with:
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt; ===&gt; Provider (rlx_prv_discover) failed with: {error,
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  {rlx_app_discovery,
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i> [{missing_beam_file,
</I>&gt;&gt;<i>  &gt; &gt;                                                           hipe,
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt; &lt;&lt;&quot;/usr/local/lib/erlang/lib/hipe-3.10/ebin/hipe.beam&quot;&gt;&gt;},
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  {missing_beam_file,
</I>&gt;&gt;<i>  &gt; &gt;                                                           hipe,
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt; &lt;&lt;&quot;/usr/local/lib/erlang/lib/hipe-3.10.1/ebin/hipe.beam&quot;&gt;&gt;}]}}
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt; there is no hipe.beam in
</I>&gt;&gt;<i> /usr/local/lib/erlang/lib/hipe-3.10.1/ebin/, it
</I>&gt;&gt;<i>  &gt; &gt; is in /usr/local/lib/erlang/lib/hipe-3.10.2.1/ebin/hipe.beam.
</I>&gt;&gt;<i>  &gt; &gt; I've tried passing the correct dir to relx using --lib-dir but I
</I>&gt;&gt;<i> still
</I>&gt;&gt;<i>  &gt; &gt; get the same error.
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt; Any ideas what's going wrong?
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt; erl: Erlang R16B02 (erts-5.10.3)
</I>&gt;&gt;<i>  &gt; &gt; relx: 0.0.0+build.275.refca03701
</I>&gt;&gt;<i>  &gt; &gt; rebar: rebar 2.1.0-pre R16B02 20130922_191744 git
</I>&gt;&gt;<i> 2.1.0-pre-46-g78fa8fc
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt; On 22 September 2013 21:55, Matthew Hegarty &lt;<A HREF="https://lists.ninenines.eu/listinfo/extend">mrhegarty at gmail.com</A>
</I>&gt;&gt;<i>  &gt; &gt; &lt;mailto:<A HREF="https://lists.ninenines.eu/listinfo/extend">mrhegarty at gmail.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt;     hi
</I>&gt;&gt;<i>  &gt; &gt;     Just starting out so I've got latest versions of apps.
</I>&gt;&gt;<i>  &gt; &gt;     in cowboy/examples/hello_world, running make fails with:
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt; &gt; _______________________________________________
</I>&gt;&gt;<i>  &gt; &gt; Extend mailing list
</I>&gt;&gt;<i>  &gt; &gt; <A HREF="https://lists.ninenines.eu/listinfo/extend">Extend at lists.ninenines.eu</A>
</I>&gt;&gt;<i>  &gt; &gt; <A HREF="http://lists.ninenines.eu:81/listinfo/extend">http://lists.ninenines.eu:81/listinfo/extend</A>
</I>&gt;&gt;<i>  &gt; &gt;
</I>&gt;&gt;<i>  &gt;
</I>&gt;&gt;<i>  &gt;
</I>&gt;&gt;<i>  &gt; --
</I>&gt;&gt;<i>  &gt; Lo&#239;c Hoguin
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; Erlang Cowboy
</I>&gt;&gt;<i>  &gt; Nine Nines
</I>&gt;&gt;<i>  &gt; <A HREF="http://ninenines.eu">http://ninenines.eu</A>
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i>  &gt; Extend mailing list
</I>&gt;&gt;<i>  &gt; <A HREF="https://lists.ninenines.eu/listinfo/extend">Extend at lists.ninenines.eu</A>
</I>&gt;&gt;<i>  &gt; <A HREF="http://lists.ninenines.eu:81/listinfo/extend">http://lists.ninenines.eu:81/listinfo/extend</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  --
</I>&gt;&gt;<i>    Tristan Sloughter
</I>&gt;&gt;<i>    <A HREF="https://lists.ninenines.eu/listinfo/extend">tristan.sloughter at gmail.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ninenines.eu/archives/extend/attachments/20130928/b1333ac2/attachment.html">http://lists.ninenines.eu/archives/extend/attachments/20130928/b1333ac2/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000252.html">[99s-extend] Cowboy helloworld make fails with	missing_beam_file (hipe)
</A></li>
	<LI>Next message: <A HREF="000254.html">[99s-extend] Cowboy helloworld make fails with missing_beam_file (hipe)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#253">[ date ]</a>
              <a href="thread.html#253">[ thread ]</a>
              <a href="subject.html#253">[ subject ]</a>
              <a href="author.html#253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.ninenines.eu/listinfo/extend">More information about the Extend
mailing list</a><br>
</body></html>
