<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Great,&nbsp;thanks.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;saw&nbsp;some&nbsp;changes&nbsp;&quot;from&nbsp;422&nbsp;to&nbsp;400&quot;&nbsp;in&nbsp;recent&nbsp;versions&nbsp;(PUT&nbsp;and&nbsp;POST).&nbsp;Thanks&nbsp;for&nbsp;the&nbsp;heads&nbsp;up.&nbsp;As&nbsp;long&nbsp;as&nbsp;they&#39;re&nbsp;document,&nbsp;no&nbsp;harm&nbsp;shall&nbsp;come&nbsp;of&nbsp;these&nbsp;changes.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;any&nbsp;case,&nbsp;if&nbsp;I&nbsp;see&nbsp;it&nbsp;happen&nbsp;very&nbsp;often&nbsp;live&nbsp;I&#39;ll&nbsp;&quot;protect&quot;&nbsp;it&nbsp;agains&nbsp;the&nbsp;_bad_&nbsp;header&nbsp;:-).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Paulo&nbsp;F.&nbsp;Oliveira&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;8&nbsp;July&nbsp;2014&nbsp;14:21,&nbsp;Loïc&nbsp;Hoguin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:essen@ninenines.eu&quot;&nbsp;target=&quot;_blank&quot;&gt;essen@ninenines.eu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Parsing&nbsp;of&nbsp;any&nbsp;header&nbsp;may&nbsp;crash.&nbsp;Some&nbsp;may&nbsp;also&nbsp;return&nbsp;an&nbsp;error&nbsp;tuple,&nbsp;though&nbsp;that&nbsp;behavior&nbsp;slowly&nbsp;changes&nbsp;and&nbsp;it&nbsp;will&nbsp;always&nbsp;crash&nbsp;in&nbsp;2.0.&nbsp;So&nbsp;just&nbsp;wrap&nbsp;the&nbsp;call&nbsp;around&nbsp;a&nbsp;try/catch&nbsp;if&nbsp;you&nbsp;need&nbsp;to&nbsp;handle&nbsp;the&nbsp;error.&lt;br&gt;<br>
&lt;br&gt;<br>
Note&nbsp;that&nbsp;at&nbsp;this&nbsp;exact&nbsp;moment&nbsp;I&#39;m&nbsp;working&nbsp;on&nbsp;returning&nbsp;400&nbsp;instead&nbsp;of&nbsp;500&nbsp;automatically&nbsp;when&nbsp;parsing&nbsp;headers&nbsp;end&nbsp;up&nbsp;crashing&nbsp;(and&nbsp;possibly&nbsp;other&nbsp;situations&nbsp;later&nbsp;on).&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;07/08/2014&nbsp;03:17&nbsp;PM,&nbsp;Paulo&nbsp;F.&nbsp;Oliveira&nbsp;wrote:&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
Hello,&nbsp;y&#39;all.&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;using&nbsp;HTTP&nbsp;Basic&nbsp;Auth&nbsp;in&nbsp;my&nbsp;API.&nbsp;While&nbsp;calling&lt;br&gt;<br>
cowboy_req:parse_header(&lt;&lt;&quot;&lt;u&gt;&lt;/u&gt;authorization&gt;&gt;&quot;,&nbsp;...&nbsp;with&nbsp;an&nbsp;_invalid_&lt;br&gt;<br>
Authorization&nbsp;header&nbsp;such&nbsp;as&nbsp;&quot;Authorization:&nbsp;Basic&nbsp;Test1&quot;&nbsp;I&nbsp;get&nbsp;an&nbsp;error&lt;br&gt;<br>
500&nbsp;back&nbsp;and&nbsp;an&nbsp;error&nbsp;log&nbsp;message&nbsp;on&nbsp;the&nbsp;server.&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;Is&nbsp;this&nbsp;the&nbsp;expected&nbsp;behavior?&nbsp;[if&nbsp;I&nbsp;understand&nbsp;correctly,&nbsp;my&nbsp;request&lt;br&gt;<br>
is&nbsp;going&nbsp;through&nbsp;authorization(UserPass,&nbsp;Type&nbsp;=&nbsp;&lt;&lt;&quot;basic&quot;&gt;&gt;)&nbsp;and&nbsp;this&lt;br&gt;<br>
has&nbsp;no&nbsp;check&nbsp;for&nbsp;the&nbsp;string&nbsp;being&nbsp;correctly&nbsp;encoded]&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;what&nbsp;would&nbsp;be&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;guard&nbsp;against&nbsp;this&nbsp;&quot;error&quot;?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks.&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;Paulo&nbsp;F.&nbsp;Oliveira&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
Extend&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Extend@lists.ninenines.eu&quot;&nbsp;target=&quot;_blank&quot;&gt;Extend@lists.ninenines.eu&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.ninenines.eu/listinfo/extend&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.ninenines.eu/&lt;u&gt;&lt;/u&gt;listinfo/extend&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Loïc&nbsp;Hoguin&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://ninenines.eu&quot;&nbsp;target=&quot;_blank&quot;&gt;http://ninenines.eu&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
