<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [99s-extend] ssl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:extend%40lists.ninenines.eu?Subject=Re%3A%20%5B99s-extend%5D%20ssl&In-Reply-To=%3C0C585951-B0F1-458F-8ED9-971980FC1FE6%40wanadoo.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000371.html">
   <LINK REL="Next"  HREF="000373.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[99s-extend] ssl</H1>
    <B>Samir Sow</B> 
    <A HREF="mailto:extend%40lists.ninenines.eu?Subject=Re%3A%20%5B99s-extend%5D%20ssl&In-Reply-To=%3C0C585951-B0F1-458F-8ED9-971980FC1FE6%40wanadoo.fr%3E"
       TITLE="[99s-extend] ssl">samset at wanadoo.fr
       </A><BR>
    <I>Fri Apr 11 23:23:10 CEST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000371.html">[99s-extend] ssl_hello_world
</A></li>
        <LI>Next message: <A HREF="000373.html">[99s-extend] ssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#372">[ date ]</a>
              <a href="thread.html#372">[ thread ]</a>
              <a href="subject.html#372">[ subject ]</a>
              <a href="author.html#372">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Still struggling with ssl.
I decided to check what&#8217;s going on at the ssl module level. Did a step by step ssl connection using the erlang ssl doc.
Found an error erlang:size badarg, but could not understand if it&#8217;s a problem with the key/cert files or with the data sent by the client.

Any help welcomed. Thx

Samir

{ok, SSLSocket} = ssl:ssl_accept(Socket, [{cacertfile, &quot;priv/cert/cacert.crt&quot;}, {certfile, &quot;priv/cert/server.crt&quot;}, {keyfile, &quot;priv/cert/server.key&quot;}]).
** exception exit: {{badarg,
                        [{erlang,size,
                             [[22,3,1,0,176,1,0,0,172,3,3,83,72,89,48,183,175,
                               58,145,197,219|...]],
                             []},
                         {tls_record,get_tls_records_aux,2,
                             [{file,&quot;tls_record.erl&quot;},{line,122}]},
                         {tls_connection,next_tls_record,2,
                             [{file,&quot;tls_connection.erl&quot;},{line,484}]},
                         {tls_connection,handle_info,3,
                             [{file,&quot;tls_connection.erl&quot;},{line,307}]},
                         {gen_fsm,handle_msg,7,
                             [{file,&quot;gen_fsm.erl&quot;},{line,503}]},
                         {proc_lib,init_p_do_apply,3,
                             [{file,&quot;proc_lib.erl&quot;},{line,239}]}]},
                    {gen_fsm,sync_send_all_state_event,
                        [&lt;0.105.0&gt;,{start,infinity},infinity]}}
     in function  gen_fsm:sync_send_all_state_event/3 (gen_fsm.erl, line 242)
     in call from ssl_connection:sync_send_all_state_event/2 (ssl_connection.erl, line 1649)
     in call from ssl_connection:handshake/2 (ssl_connection.erl, line 97)
     in call from tls_connection:start_fsm/8 (tls_connection.erl, line 81)
     in call from ssl_connection:ssl_accept/7 (ssl_connection.erl, line 84)
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000371.html">[99s-extend] ssl_hello_world
</A></li>
	<LI>Next message: <A HREF="000373.html">[99s-extend] ssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#372">[ date ]</a>
              <a href="thread.html#372">[ thread ]</a>
              <a href="subject.html#372">[ subject ]</a>
              <a href="author.html#372">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.ninenines.eu/listinfo/extend">More information about the Extend
mailing list</a><br>
</body></html>
