<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [99s-extend] PUT on new resource and status 201
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:extend%40lists.ninenines.eu?Subject=Re%3A%20%5B99s-extend%5D%20PUT%20on%20new%20resource%20and%20status%20201&In-Reply-To=%3CCAE7UswcWMj-voOs4eSbYxNyfkHZ8anCeUr6JyBGU%2BRhODk5Nig%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000469.html">
   <LINK REL="Next"  HREF="000471.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[99s-extend] PUT on new resource and status 201</H1>
    <B>Stefan Strigler</B> 
    <A HREF="mailto:extend%40lists.ninenines.eu?Subject=Re%3A%20%5B99s-extend%5D%20PUT%20on%20new%20resource%20and%20status%20201&In-Reply-To=%3CCAE7UswcWMj-voOs4eSbYxNyfkHZ8anCeUr6JyBGU%2BRhODk5Nig%40mail.gmail.com%3E"
       TITLE="[99s-extend] PUT on new resource and status 201">stefan.strigler at gmail.com
       </A><BR>
    <I>Tue Oct 14 10:05:53 CEST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000469.html">[99s-extend] Prevent resource creation on POST
</A></li>
        <LI>Next message: <A HREF="000471.html">[99s-extend] PUT on new resource and status 201
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#470">[ date ]</a>
              <a href="thread.html#470">[ thread ]</a>
              <a href="subject.html#470">[ subject ]</a>
              <a href="author.html#470">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

just subscribed yesterday and now that's already my first question.

I'm referring to
<A HREF="http://ninenines.eu/docs/en/cowboy/1.0/guide/rest_flowcharts/.">http://ninenines.eu/docs/en/cowboy/1.0/guide/rest_flowcharts/.</A> Given you
have a PUT on a new resource the diagram suggests that the response's
status code depends on whether you've set a location and/or body. But when
looking at the code (v1.0.0) then cowboy_rest:maybe_created/2 would always
return a 201. No matter what. I think the code is right, but the diagram
needs to be fixed.

But then I'm not totally sure how to interpret
<A HREF="http://tools.ietf.org/html/rfc2616#section-10.2.2">http://tools.ietf.org/html/rfc2616#section-10.2.2</A> which states

   The newly created resource can be referenced by the URI(s)
   returned in the entity of the response, with the most specific URI
   for the resource given by a Location header field.


Because currently it is totally possible to not have a location header
set (just as no body) for the response. In my opinion the current code
behaves good enough and it's up to the service to ensure the
requirements as stated by the RFC. Should cowboy enforce a header
field? Should it try to figure that out on its own?


Regards,


Stefan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ninenines.eu/archives/extend/attachments/20141014/d89bced6/attachment.html">http://lists.ninenines.eu/archives/extend/attachments/20141014/d89bced6/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000469.html">[99s-extend] Prevent resource creation on POST
</A></li>
	<LI>Next message: <A HREF="000471.html">[99s-extend] PUT on new resource and status 201
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#470">[ date ]</a>
              <a href="thread.html#470">[ thread ]</a>
              <a href="subject.html#470">[ subject ]</a>
              <a href="author.html#470">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.ninenines.eu/listinfo/extend">More information about the Extend
mailing list</a><br>
</body></html>
